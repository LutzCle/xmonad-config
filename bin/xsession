#!/bin/sh
# Script to configure X, start common apps, and start xmonad.
# Author: Vic Fryzel
# http://github.com/vicfryzel/xmonad-config


# Configure PATH so that we can access our scripts below
PATH="$PATH:~/.cabal/bin:~/.xmonad/bin"
export PATH

# Set QT5 plattform theme (to change, run qt5ct)
export QT_QPA_PLATFORMTHEME="qt5ct"

# Configure X
xsetroot -cursor_name left_ptr &

# Configure keymap (switch with caps lock key)
setxkbmap -layout ch,ru -variant de_nodeadkeys, -option 'grp:caps_toggle' &

# Start a window compositor. This ensures Google Chrome paints correctly.
xcompmgr -n &

# Start the system tray
tray &

# Start sound server
pulseaudio --start &

# Start gnome-keyring
eval $(/usr/bin/gnome-keyring-daemon --start --components=pkcs11,secrets,ssh)
export SSH_AUTH_SOCK

# Start Network Manager applet
nm-applet &

# Start redshift to reduce eyestrain at night
redshift-gtk &

# Start terminals
#gnome-terminal &
#konsole &
#urxvt &

# Start a browser
#google-chrome &
firefox &

# Start mail client
thunderbird &

# Start screensaver
# Kill gnome-screensaver if started by default
#killall gnome-screensaver &
xscreensaver -no-splash &

#exec ck-launch-session dbus-launch --sh-syntax --exit-with-session xmonad
